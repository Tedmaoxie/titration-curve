# 中和滴定曲线模拟器

本仓库包含一个基于 HTML5 Canvas 的中和滴定曲线模拟器，支持强酸、弱酸、多元酸的滴定曲线绘制与关键中和点标注，并已加入 HCN（氢氰酸）与磷酸（H3PO4）的选项与滴定逻辑。

## 功能概述
- 支持酸种选择：`HCl`、`CH3COOH`（乙酸）、`HCN`（氢氰酸）、`H2C2O4`（草酸）、`H3PO4`（磷酸）。
- 支持设置酸浓度、体积与 NaOH 浓度、滴定速度等参数。
- 滴定曲线实时绘制，显示 pH 随等效体积的变化。
- 中和点标注采用“锁定理论等效体积与对应 pH”的机制：
  - 一元酸在等效体积域显示于酸初始体积（例如 20.00 mL）。
  - 二元酸（草酸）显示第一、第二中和点（例如 20.00 mL 和 40.00 mL）。
  - 三元酸（磷酸）显示第一、第二、第三中和点（例如 20.00 mL、40.00 mL、60.00 mL）。
- HCN 与 H3PO4 的 pKa/Ka 显示与滴定计算：
  - HCN：Ka ≈ 6.2×10⁻¹⁰（pKa ≈ 9.2），作为弱酸处理。
  - H3PO4：Ka₁=7.5×10⁻³、Ka₂=6.2×10⁻⁸、Ka₃=4.4×10⁻¹³，采用三元酸电荷平衡求解。

## 使用方法
### 本地预览
1. 直接双击 `titration-curve-simulator.html` 打开，或使用本地服务器：
   - 在仓库目录执行：
     ```
     python -m http.server 8000
     ```
   - 在浏览器打开：`http://localhost:8000/titration-curve-simulator.html`
2. 在左侧控制面板选择酸种与参数，曲线将动态更新。

### 参数设置建议
- 浓度与体积单位：
  - 体积使用毫升（mL）；浓度使用摩尔每升（mol/L）。
- 新增酸浓度范围兼容性：
  - HCN 溶液：`0.1–1.0 M`
  - 磷酸溶液：`0.5–3.0 M`
- 验证等效点锁定：
  - 例如设置 `C(酸)=0.1 M`、`V(酸)=20 mL`、`C(NaOH)=0.1 M`，可观察到：
    - 一元酸：中和点在等效体积 20.00 mL。
    - 草酸：第一、第二中和点在 20.00 mL 与 40.00 mL。
    - 磷酸：第一、第二、第三中和点在 20.00 mL、40.00 mL、60.00 mL。

## 安全说明（重要）
- HCN（氢氰酸）具有极高毒性与挥发性，任何线下实验必须遵循专业安全规范，在具备资质的实验室、合规通风与防护条件下，由专业人员进行。
- 本项目为教学演示性质的仿真器，不构成任何线下实验建议或指导。

## 文件结构
- `titration-curve-simulator.html`：根目录版本，建议主要使用与维护。
- `中和滴定Trae/titration-curve-simulator.html`：子文件夹版本，内容等价；如需统一，仅保留根目录版本即可。

## 兼容性
- 现代桌面浏览器（Chrome/Edge/Firefox）均可运行。
- 需启用 JavaScript；Canvas 用于绘图。

## 主要实现要点
- 滴定曲线计算：根据酸种选择调用相应的 pH 计算函数（强酸、弱酸、二元酸、三元酸）。
- 等效点标注：在等效体积坐标系中严格锁定到理论中和点，并计算对应 pH 以确定标注位置。
- HCN 弱酸化处理：弱酸通用方程，传入 Ka 参数进行数值求解。
- 磷酸三元酸处理：基于电荷平衡与多步解离常数进行数值求解。

## 贡献
欢迎提交 Issue 或 Pull Request 来改进功能或修复问题。